$(document).ready(function () {$(".back>.contentwrapper>.upper_back>.slider").slick({autoplay: true,autoplaySpeed: 3000,speed: 500,pauseOnHover: false,draggable: true,vertical: true,verticalSwiping: true,dots: true,arrows: false,});$(".back>.contentwrapper>.upper_back>.slider .slick-slide").outerHeight( $(".back>.contentwrapper>.upper_back>.slider").outerHeight() );function validateForm(formid){let c_form = $("*[data-form-id='"+formid+"']");let errors_validation = 0;$(c_form).find("[required]").each(function(i,el){if(!el.reportValidity()){errors_validation++};});return errors_validation;}function sendForm(formid){if( validateForm(formid) == 0 ){let c_form = $("*[data-form-id='"+formid+"']");let objectToSend = {};objectToSend.provider = $(c_form).data("form-prov");objectToSend.namekey = $(c_form).data("form-prov-namekey");objectToSend.form_id = formid;if( $(c_form).find(".input_group.name input").length ){objectToSend.contact_name = $(c_form).find(".input_group.name input").val();};objectToSend.contact_email = $(c_form).find(".input_group.mail input").val();fetch("https://sooon.page/api/publicwebsites/addContact.php", {method: "POST", body: JSON.stringify(objectToSend)}).then((res) => res.json()).then((data) => showNewsletterFormResult(data)).catch((err) => alert(err))}}function showNewsletterFormResult(data){let c_form = $("*[data-form-id='"+data.data.form+"']");if(data.log=="Ok"){ showNewsletterFormOKResult(data.data.form); }else if( data.log=="Error" ){showNewsletterFormKOResult(data.data.form);};if( $(c_form).hasClass("reset")){$(c_form)[0].reset();}}function showNewsletterFormOKResult(form_id){let c_form = $("*[data-form-id='"+form_id+"']");$(".form_notification_" + form_id).find(".notification_content").html($(".form_notification_" + form_id).data("ok-msg"));$(".form_notification_" + form_id).addClass("show");if( $(c_form).hasClass("notif_relative_pos") ){$(".form_notification_" + form_id).slideDown();}}function showNewsletterFormKOResult(form_id){let c_form = $("*[data-form-id='"+form_id+"']");$(".form_notification_" + form_id).addClass("error");$(".form_notification_" + form_id).find(".notification_content").html($(".form_notification_" + form_id).data("error-msg"));$(".form_notification_" + form_id).addClass("show");if( $(c_form).hasClass("notif_relative_pos")){$(".form_notification_" + form_id).slideDown();}}$(".newsletter_form").each(function(i,el){$(el).find("a.btn").on("click",function(){sendForm($(this).parent(".newsletter_form").data("form-id"))});});$(".notification .notification_close").each(function(i,el){let c_notif = $(this).parents(".notification");$(el).on("click",function(){$(c_notif).removeClass("show");if( $(c_notif).hasClass("notif_relative_pos")){$(c_notif).slideUp();}});});});$(window).resize(function () {$(".back>.contentwrapper>.upper_back>.slider .slick-slide").outerHeight( $(".back>.contentwrapper>.upper_back>.slider").outerHeight() );});